<!-- Brand
================================================== -->

<section class="jumbotron jumbotron-fluid text-center">
  <div class="brand container">
    <h1 class="brand-title">創新自造者開放實驗室</h1>
    <p class="brand-subtitle">Makers' Open Lab for Innovation</p>
    <!--開關門狀態-->
    <p class="door door-loading text-center">偵測開門狀態...</p>
  </div>
</section>


<!-- Features
================================================== -->

<div class="container">

  <div class="feature row">
    <div class="col-md-5 push-md-7">
      <img class="feature-image img-fluid mx-auto" src="http://fakeimg.pl/600x400" alt="Generic placeholder image">
    </div>
    <div class="feature-content col-md-7 pull-md-5">
      <h2 class="feature-title">Maker Space</h2>
      <p class="feature-subtitle text-muted">我們熱愛創造！</p>
      <p class="feature-body">MOLi 是一個自造（Self-Making）空間，提供 3D 印表機、電路銲接設備、CNC 三軸雕刻機、各種開發版等設備。</p>
      <p class="text-center"><a class="feature-more" href="make" role="button">進一步了解</a></p>
    </div>
  </div>

  <hr class="divider">

  <div class="feature row">
    <div class="col-md-5 md-7">
      <img class="feature-image img-fluid mx-auto" src="http://fakeimg.pl/600x400" alt="Generic placeholder image">
    </div>
    <div class="feature-content col-md-7 md-5">
      <h2 class="feature-title">Open Lab</h2>
      <p class="feature-subtitle text-muted">我們忠於開源！</p>
      <p class="feature-body">MOLi 是由社群管理的開放實驗室，適合各領域的朋友一起討論、創造，只要喜愛創造、樂於分享，隨時歡迎。</p>
      <p class="text-center"><a class="feature-more" href="open" role="button">進一步了解</a></p>
    </div>
  </div>

  <hr class="divider">

  <div class="feature row">
    <div class="col-md-5 push-md-7">
      <img class="feature-image img-fluid mx-auto" src="http://fakeimg.pl/600x400" alt="Generic placeholder image">
    </div>
    <div class="feature-content col-md-7 pull-md-5">
      <h2 class="feature-title">Share Anything</h2>
      <p class="feature-subtitle text-muted">我們樂於分享！</p>
      <p class="feature-body">MOLi 鼓勵自發性的分享會、讀書會，以及實作工作坊，讓大家能夠分享自己所學，促進交流。</p>
      <p class="text-center"><a class="feature-more" href="share" role="button">進一步了解</a></p>
    </div>
  </div>

  <hr class="divider">

  <div class="feature row">
    <div class="col-md-7">
      <div id="map"></div>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i> 使用 <a href="http://osm.org/go/5iarqEyaW?layers=ND&node=3680840001" target="_blank">OpenStreetMap</a> 或 <a href="https://www.google.com/maps?cid=13455914928326177954" target="_blank">Google Map</a> 檢視
    </div>

    <div class="feature-content col-md-5">
      <h2 class="feature-title">Get In Touch</h2>
      <p class="feature-subtitle text-muted">歡迎來坐</p>
      <ul class="contact-list">
        <li class="contact-list-item"><i class="fa fa-facebook-official" aria-hidden="true"></i> <a href="https://fb.com/MOLi.rocks" target="_blank">Facebook 粉絲專頁</a></li>
        <li class="contact-list-item"><i class="fa fa-github" aria-hidden="true"></i> <a href="https://github.com/moli-rocks" target="_blank">GitHub Organization</a></li>
        <li class="contact-list-item"><i class="fa fa-telegram" aria-hidden="true"></i> <a href="https://t.me/MOLi_rocks" target="_blank">Telegram 聊天群組</a></li>
        <li class="contact-list-item"><i class="fa fa-location-arrow" aria-hidden="true"></i> 54561 南投縣埔里鎮大學路470號管理學院237室</li>
      </ul>
      <p class="door door-loading text-center">偵測開門狀態...</p>
    </div>
  </div>

  <hr class="divider">

</div>
<script src="https://www.gstatic.com/firebasejs/3.6.6/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBgTlUBcXa3B2VXpsY_Iyh1HVRNyiJpKMo",
    authDomain: "moli-door.firebaseapp.com",
    databaseURL: "https://moli-door.firebaseio.com",
    storageBucket: "moli-door.appspot.com",
    messagingSenderId: "10676976194"
  };
  firebase.initializeApp(config);

  var doorStatusRef = firebase.database().ref('status');
  doorStatusRef.on('value', function(snapshot) {
    var doorStatus = snapshot.val();
    if (doorStatus === 0) {
      $('.door').html('開放中').removeClass( "door-loading door-close door-error" ).addClass( "door-open" );
    } else if (doorStatus === 1) {
      $('.door').html('休息中').removeClass( "door-loading door-open door-error" ).addClass( "door-close" );
    } else {
      $('.door').html('狀態不明<br>猴子們正在努力找出問題').removeClass( "door-loading door-open door-close" ).addClass( "door-error" );
    }
  });
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.2/leaflet.js"></script>
<script>
  var map = L.map('map', {
      center: [23.9519631, 120.9274402],
      zoom: 17,
      touchZoom: true,
      doubleClickZoom: true,
      dragging: false,
      scrollWheelZoom: false,
      boxZoom: false,
      keyboard: false,
      tap: false
  });

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
    attribution: '地圖資訊 © <a href="https://www.openstreetmap.org/copyright">OpenStreetMap 貢獻者</a> ♥',
    // maxZoom: 18,
    // detectRetina: true
  }).addTo(map);

  var marker = L.marker([23.9519631, 120.9274402]).addTo(map);
  // marker.bindPopup('MOLi 在這！').openPopup();
</script>
